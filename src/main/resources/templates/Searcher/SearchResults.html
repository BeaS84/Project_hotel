<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Wyniki Twojego wyszukiwania</title>
</head>
<label th:text="'Szukasz pokoju dla '+ ${animalName} +' na '+ ${durationInDays} + ' dni'"></label>

<body>
<!-- Sprawdzenie, czy istnieją pokoje do wyświetlenia -->
<div th:if="${not #lists.isEmpty(roomPrices)}">
  <table border="1">
    <thead>
    <tr>
      <th>ID</th>
      <th>Pokój</th>
      <th>Opis</th>
      <th>Sandard pokoju</th>
      <th>Jakie zwierzeta sa przyjmowane</th>
      <th>Cena za dzień</th>
      <th>Całkowita cena</th> <!-- Nowa kolumna z ceną pokoju -->
      <th>Akcje</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="roomPrice, index : ${roomPrices}">
      <td th:text="${roomPrice.getRoom().getId()}"></td>
      <td th:text="${roomPrice.getRoom().getName()}"></td>
      <td th:text="${roomPrice.getRoom().getDescription()}"></td>
      <td th:text="${roomPrice.getRoom().getStandard()}"></td>
      <td th:text="${roomPrice.getRoom().getAllowedAnimalSizes()}"></td>
      <td th:text="${roomPrice.getRoom().getCostPerNight()}"></td>
      <td th:text="${roomPrice.getPrice()}"></td> <!-- Dodana kolumna z ceną pokoju -->
      <td>
        <a th:href="@{/clientpanel/create(animalId=${searchQuery.getSelectedAnimalId()}, roomId=${roomPrice.getRoom().getId()}, reservationStartDate=${searchQuery.getReservationStartDate()}, reservationEndDate=${searchQuery.getReservationEndDate()},durationInDays=${durationInDays}, totalPrice=${roomPrice.getPrice()})}">
          <button>Wybierz</button>
        </a>
      </td>

    </tr>
    </tbody>
  </table>
</div>

<!-- Komunikat o braku wyników -->
<div th:if="${#lists.isEmpty(roomPrices)}">
  <p>Niestety brak wyników wyszukiwania.</p>
</div>

<button onclick="location.href='/clientpanel'">Wróć</button>

</body>
</html>