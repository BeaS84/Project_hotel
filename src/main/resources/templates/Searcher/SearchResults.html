<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Wyszukiwanie</title>
</head>
<body>
<!-- Wyświetlenie wartości durationInDays -->
<h2 th:text="${durationInDays}"></h2>
<!-- Sprawdzenie, czy istnieją pokoje do wyświetlenia -->
<div th:if="${not #lists.isEmpty(roomPrices)}">
  <table border="1">
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Description</th>
      <th>Room standard</th>
      <th>Animal Size</th>
      <th>Cost per Night</th>
      <th>Room Price</th> <!-- Nowa kolumna z ceną pokoju -->
      <th>Akcje</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="roomPrice, index : ${roomPrices}">
      <td th:text="${roomPrice.getRoom().getId()}"></td>
      <td th:text="${roomPrice.getRoom().getName()}"></td>
      <td th:text="${roomPrice.getRoom().getDescription()}"></td>
      <td th:text="${roomPrice.getRoom().getStandard()}"></td>
      <td th:text="${roomPrice.getRoom().getAllowedAnimalSizes()}"></td>
      <td th:text="${roomPrice.getRoom().getCostPerNight()}"></td>
      <td th:text="${roomPrice.getPrice()}"></td> <!-- Dodana kolumna z ceną pokoju -->
      <td>
        <a th:href="@{/clientpanel/create(animalId=${searchQuery.getSelectedAnimalId()}, roomId=${roomPrice.getRoom().getId()}, reservationStartDate=${searchQuery.getReservationStartDate()}, reservationEndDate=${searchQuery.getReservationEndDate()})}">
          <button>Wybierz</button>
        </a>
      </td>
      <!--    <tr th:each="room, index : ${rooms}">-->
      <!--      <td th:text="${room.getId()}"></td>-->
      <!--      <td th:text="${room.getName()}"></td>-->
      <!--      <td th:text="${room.getDescription()}"></td>-->
      <!--      <td th:text="${room.getStandard()}"></td>-->
      <!--      <td th:text="${room.getAllowedAnimalSizes()}"></td>-->
      <!--      <td th:text="${room.getCostPerNight()}"></td>-->
      <!--      <td th:text="${#strings.toString(roomPrices[__${index.index}__])}"></td> &lt;!&ndash; Dodana kolumna z ceną pokoju &ndash;&gt;-->
      <!--      <td>-->
      <!--        <a th:href="@{'/clientpanel/searcher' + ${room.getId()}}"-->
      <!--           th:attr="data-id=${room.getId()}">-->
      <!--          <button>Rezerwuj</button>-->
      <!--        </a>-->
      <!--      </td>-->
    </tr>
    </tbody>
  </table>
</div>

<!-- Komunikat o braku wyników -->
<div th:if="${#lists.isEmpty(roomPrices)}">
  <p>Niestety brak wyników wyszukiwania.</p>
</div>

<button onclick="location.href='/clientpanel'">Wróc</button>

</body>
</html>